allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], function(x){read.csv(x, colClasses = "sulfate")})
allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], read.csv)[,"sulfate"]
allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], read.csv[,"sulfate"])
allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], read.csv)
?read.table
library(readr)
?read_csv
a <- read.csv("specdata/001.csv")
a <- read.csv("specdata/001.csv")["sulfate"]
a <- read.csv("specdata/001.csv")["sulfate"]
allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], read.csv)["sulfate"]
l1 <- unlist(allFiles)
allFiles
View(allFiles)
View(allFiles)
allFiles <- lapply(dir("specdata", full.names = TRUE)[5:9], function(x){ read.csv(x)["sulfate"]})
View(allFiles)
mean(lapply(dir("specdata", full.names = TRUE)[5:9], function(x){ read.csv(x)["sulfate"]}), na.rm = TRUE)
lapply(dir("specdata", full.names = TRUE)[5:9], function(x){ read.csv(x)["sulfate"]})
lapply(dir("specdata", full.names = TRUE)[1], function(x){ read.csv(x)["sulfate"]})
a <- lapply(dir("specdata", full.names = TRUE)[1], function(x){ read.csv(x)["sulfate"]})
a <- unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){ read.csv(x)["sulfate"]}))
mean(a, na.rm = TRUE)
pollutantmean <- function(directory, pollutant, id = 1:332) {
a <- mean(unlist(lapply(dir(directory, full.names = TRUE)[1], function(x){ read.csv(x)[pollutant]})), na.rm = TRUE)
}
pollutantmean("specdata","sulfate")
pollutantmean <- function(directory, pollutant, id = 1:332) {
mean(unlist(lapply(dir(directory, full.names = TRUE)[1], function(x){ read.csv(x)[pollutant]})), na.rm = TRUE)
}
pollutantmean("specdata","sulfate")
a<-read.csv("sulfate/001.csv")
a<-read.csv("specdata/001.csv")
mean(a$sulfate, na.rm = TRUE)
pollutantmean("specdata","nitrate")
mean(a$nitrate, na.rm = TRUE)
pollutantmean <- function(directory, pollutant, id = 1:332) {
mean(unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){ read.csv(x)[pollutant]})), na.rm = TRUE)
}
pollutantmean("specdata","sulfate",1:10)
pollutantmean("specdata","sulfate",70:72)
pollutantmean("specdata","nitrate",70:72)
pollutantmean("specdata","nitrate",23)
a<- read.csv("specdata/001.csv")
a<- read.csv("specdata/001.csv")$id
a<- read.csv("specdata/001.csv")["id"]
a<- read.csv("specdata/001.csv")["ID"]
a<- read.csv("specdata/001.csv")$ID
nrow(a)
length(a)
a <- data.frame(id = id, read.csv("specdata/001.csv")$ID)
b <- data.frame(id = b$ID)
b <- data.frame(id = a$ID)
b <- data.frame(id = unlist(a$ID)
b <- data.frame(id = unlist(a$ID))
b <- data.frame(id = unlist(a))
b <- data.frame(id = unlist(a), nobs = length(a))
d <- dir("specdata", full.names = TRUE)[1:2]
d <- lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv((x)[id])})
d <- lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv((x)[ID])})
d <- lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)[ID]})
View(b)
d <- lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["id"]})
d <- lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})
b <- data.frame(id = unlist(d), nobs = length(d))
b <- data.frame(id = unlist(d), nobs = length(d))
b
d <- unlisT(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]}))
d <- unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]}))
b <- data.frame(id = unlist(d), nobs = length(d))
b
b <- data.frame(id = unique(unlist(d)), nobs = length(d))
b
d <- unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})) %>%
group_by(id) $>%
summarise_each(funs(count))
library(dplyr)
d <- unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})) %>%
group_by(id) %>%
summarise_each(funs(count))
d <- unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})) %>%
group_by(id) %>%
summarise_each(funs(count))
d <- data.frame(unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})))
View(d)
d <- data.frame(id = unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)["ID"]})))
table(d$id)
d <- data.frame(id = unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)})))
d <- data.frame(id = unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)})))
a <- read.csv("specdata/001.csv")
a <- complete_cases(read.csv("specdata/001.csv"))
a <- complete.cases(read.csv("specdata/001.csv"))
a <- read.csv("specdata/001.csv")
a <- read.csv("specdata/001.csv")
?sapply
a
completed.cases(a)
complete.cases(a)
b <- which(complete.cases(a) == TRUE)
c <- a[which(complete.cases(a) == TRUE)]
c <- a$ID[which(complete.cases(a) == TRUE)]
nrow(c)
length(c)
length(read.csv("specdata/001.csv")$ID[which(complete.cases(a) == TRUE)])
lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID}))
lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID})
lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID})[which(complete.cases(a) == TRUE)]
unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID})[which(complete.cases(a) == TRUE)])
lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]})
length(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]}))
length(unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]})))
length(unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]})))
length(unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]})))
data.frame(id = 1, nobs = length(unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]}))))
data.frame(id = 1, nobs = length(unlist(lapply(dir("specdata", full.names = TRUE)[1:2], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]}))))
complete <- function(directory, id = 1:2) {
data.frame(id = id, nobs = length(unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){read.csv(x)$ID[which(complete.cases(a) == TRUE)]}))))
}
complete("specdata",1)
complete("specdata",1:2)
complete("specdata",2)
complete <- function(directory, id = 1:2) {
data.frame(id = id, nobs = length(unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){read.csv(x)$ID[which(complete.cases(x) == TRUE)]}))))
}
complete("specdata",2)
>tapply
lapply(dir(directory, full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(x) == TRUE)]})
lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(x) == TRUE)]})
a <- lapply(dir("specdata", full.names = TRUE)[1], function(x){read.csv(x)$ID[which(complete.cases(x) == TRUE)]})
View(a)
a <- read.csv("specdata/001.csv")
a <- completed.cases(read.csv("specdata/001.csv") = TRUE)
a <- completed.cases(read.csv("specdata/001.csv") == TRUE)
a <- completed.cases(read.csv("specdata/001.csv"))
a <- complete.cases(read.csv("specdata/001.csv"))
a <- complete.cases(read.csv("specdata/001.csv") = TRUE)
a <- read.csv("specdata/001.csv")
b <- a$ID[which(complete.cases(a) = TRUE)]
b <- a$ID[which(complete.cases(a) = TRUE]
b <- a$ID[which(complete.cases(a)) = TRUE]
b <- a[which(complete.cases(a)) = TRUE]
b <- a[which(complete.cases(a) = TRUE)]
b <- a$ID[which(complete.cases(a) = TRUE)]
b <- a$ID[which(complete.cases(a) == TRUE)]
data.frame(id = id, nobs = length(b))
length(b)
data.frame(id = 1, nobs = length(b))
data.frame(id = unique(a$ID), nobs = length(b))
folder <- dir("specdata", full.names = TRUE)
folder <- dir("specdata", full.names = TRUE)
for(i in 1:2) {
print(i)
#a <- read.csv("specdata/001.csv")
#b <- a$ID[which(complete.cases(a) == TRUE)]
#data.frame(id = unique(a$ID), nobs = length(b))
}
folder <- dir("specdata", full.names = TRUE)
for(i in 1:2) {
print(i)
print(folder[i])
#a <- read.csv("specdata/001.csv")
#b <- a$ID[which(complete.cases(a) == TRUE)]
#data.frame(id = unique(a$ID), nobs = length(b))
}
for(i in 1:2) {
print(i)
print(folder[i])
a <- read.csv(folder[i])
#b <- a$ID[which(complete.cases(a) == TRUE)]
#data.frame(id = unique(a$ID), nobs = length(b))
}
for(i in 1:2) {
print(i)
print(folder[i])
a <- read.csv(folder[i])
b <- a$ID[which(complete.cases(a) == TRUE)]
#data.frame(id = unique(a$ID), nobs = length(b))
}
for(i in 1:2) {
print(i)
print(folder[i])
a <- read.csv(folder[i])
b <- a$ID[which(complete.cases(a) == TRUE)]
data.frame(id = unique(a$ID), nobs = length(b))
}
folder <- dir("specdata", full.names = TRUE)
for(i in 1:2) {
a <- read.csv(folder[i])
b <- a$ID[which(complete.cases(a) == TRUE)]
c <- data.frame(id = unique(a$ID), nobs = length(b))
print(c)
}
folder <- dir("specdata", full.names = TRUE)
for(i in 1:10) {
a <- read.csv(folder[i])
b <- a$ID[which(complete.cases(a) == TRUE)]
c <- data.frame(id = unique(a$ID), nobs = length(b))
print(c)
}
complete("specdata",c(2,4,6,8))
pollutantmean("specdata","nitrate",c(2,4,6,8))
pollutantmean <- function(directory, pollutant, id = 1:332) {
mean(unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){ read.csv(x)[pollutant]})), na.rm = TRUE)
}
pollutantmean("specdata","nitrate",c(2,4,6,8))
pollutantmean("specdata","nitrate",23)
pollutantmean <- function(directory, pollutant, id = 1:332) {
mean(unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){ read.csv(x)[pollutant]})), na.rm = TRUE)
}
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE)[1], +
function(x){ count(complete.cases(read.csv(x)))})))
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE)[1], +
function(x){ count(complete.cases(read.csv(x)))})))
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){ count(complete.cases(read.csv(x)))})))
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE)[1], function(x){ sum(complete.cases(read.csv(x)))})))
data.frame(id = 2, nobs = unlist(lapply(dir("specdata", full.names = TRUE)[2], function(x){ sum(complete.cases(read.csv(x)))})))
complete <- function(directory, id = 1:2) {
data.frame(id = id, nobs = unlist(lapply(dir(directory, full.names = TRUE)[id], function(x){ sum(complete.cases(read.csv(x)))})))
}
complete("specdata",c(2,4,6,8))
complete("specdata",c(2,4,8,10,12))
?cor
a <-read.csv("specdata/005.csv")
sum(complete.cases(a))
cor(x = a$sulfate, y = a$nitrate, na.rm = TRUE)
cor(x = a$sulfate, y = a$nitrate)
b <- a$ID[which(complete.cases(a) == TRUE)]
c <- a[b]
b <- a[which(complete.cases(a) == TRUE)]
b <- which(complete.cases(a) == TRUE)
c <- a[b]
c <- a[b,]
c <- a[which(complete.cases(a) == TRUE),]
cor(x = a$sulfate, y = a$nitrate)
cor(x = c$sulfate, y = c$nitrate)
a <-read.csv("specdata/010.csv")
c <- read.csv("specdata/010.csv")which(complete.cases(a) == TRUE),]
c <- read.csv("specdata/010.csv")[which(complete.cases(a) == TRUE),]
summary(cor(x = c$sulfate, y = c$nitrate))
a <- cor(x = c$sulfate, y = c$nitrate)
data.frame(id = id, nobs = unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x))) > 150})))
data.frame(id = id, nobs = unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x))) > 150})))
data.frame(id = id, nobs = unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})))
data.frame(id = id, nobs = unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x))) > 10})))
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x))) > 10})))
data.frame(id = 1, nobs = unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})))
unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))}))
which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) < 150)
which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)
c <- read.csv("specdata/331.csv")[which(complete.cases(a) == TRUE),]
View(c)
a <- read.csv("specdata/331.csv")[which(complete.cases(read.csv("specdata/331.csv")) == TRUE),]
a
cor(x = a$sulfate, y = a$nitrate)
which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)
a <- read.csv("specdata/108.csv")[which(complete.cases(read.csv("specdata/331.csv")) == TRUE),]
a <- read.csv("specdata/108.csv")[which(complete.cases(read.csv("specdata/108.csv")) == TRUE),]
a <- [which(complete.cases(read.csv("specdata/108.csv")) == TRUE),]
a <- which(complete.cases(read.csv("specdata/108.csv")) == TRUE)
make.power <- function(n)
{
pow <- function(x)
{
x^n
}
pow
}
make.power(3)
cube <- make.power(3)
cube
3^3
cube <- make.power(3)
cube(3)
square <(make.power(2))
square <-make.power(2)
square(2)
square(3)
square(3)
cube(3)
files_list <- dir("specdata", full.names = TRUE)
View(files_list)
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
summary(files_list)
df<- data.frame()
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, read.csv(files_list[i]))
}
cor(x = df$sulfate, y = df$nitrate)
View(df)
cor(x = df[,2:3], use = "complete.obs")
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor( x = (files_list[i])$sulfate, y = x = (files_list[i])$nitrate))
}
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor( x = (files_list[i])$sulfate, y = (files_list[i])$nitrate))
}
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i]), y = read.csv(files_list[i])))
}
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate))
}
df
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
View(df)
#Get the files that have > than the threshold
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
corr <- function(directory, threshold = 0) {
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > threshold)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
}
cr <- corr("specdata", 150)
cr
head(cr)
corr <- function(directory, threshold = 0) {
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
}
cr <- corr("specdata", 150)
head(cr)
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
View(df)
View(df)
corr <- function(directory, threshold = 0) {
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 150)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
pollutantmean("specdata","sulfate",1:10)
pollutantmean("specdata","nitrate",70:72)
pollutantmean("specdata","sulfate",34)
pollutantmean("specdata","nitrate")
cc <- complete("specdata",c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata",54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332,10)
print(cc[use, "nobs"])
cr <-corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <-corr("specdata")
corr <- function(directory, threshold = 0) {
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > threshold)]
df<- data.frame()
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <-corr("specdata")
cr <- sort(cr)
set.seed(868)
cr <-corr("specdata")
View(cr)
cr <- sort(cr)
cr <- sort(cr$X.0.222552560758546)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.222552560758546)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.222552560758546)
n <- length(cr)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.222552560758546)
n <- length(cr$X.0.222552560758546)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
cr <-corr("specdata", 129)
View(cr)
cr <- sort(cr$X.0.222552560758546)
cr <-corr("specdata")
cr <- sort(cr$X.0.222552560758546)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.222552560758546)
n <- length(cr$X.0.222552560758546)
n <- length(cr)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.222552560758546)
cr <-corr("specdata")
cr <- sort(cr$X.0.222552560758546)
cr <-corr("specdata", 129)
View(cr)
cr <- sort(cr)
corr <- function(directory, threshold = 0) {
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > threshold)]
df<- data.frame()
colnames(df) <- "correlation"
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
}
cr <- corr("specdata", 150)
source('~/GitHub/Coursera/datasciencecoursera/R Programming/Week 2/Assignment 1 Functions.R', echo=TRUE)
df<- data.frame()
colnames(df) <- "correlation"
?data.frame
colnames(df) <- "correlation"
colnames(df) <- c("correlation")
df<- data.frame(matrix(ncol = 1, nrow = 0))
colnames(df) <- c("correlation")
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
corr <- function(directory, threshold = 0) {
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > threshold)]
df<- data.frame(matrix(ncol = 1, nrow = 0))
colnames(df) <- c("correlation")
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
}
cr <- corr("specdata", 150)
head(cr)
cr <-corr("specdata")
cr <- sort(cr$X.0.222552560758546)
set.seed(868)
cr <-corr("specdata")
cr <- sort(cr)
View(cr)
corr <- function(directory, threshold = 0) {
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > threshold)]
df<- data.frame(matrix(ncol = 1, nrow = 0))
colnames(df) <- "correlation"
for(i in 1:length(files_list)) {
df <- rbind(df, cor(x = read.csv(files_list[i])$sulfate, y = read.csv(files_list[i])$nitrate, use = "pairwise.complete.obs"))
}
df
}
cr <-corr("specdata")
View(cr)
cr <- sort(cr$X.0.222552560758546)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <-corr("specdata", 129)
cr <- sort(cr$X.0.0189575409702549)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
cr <- corr("specdata", 2000)
cr <-corr("specdata", 2000)
files_list <- dir(directory, full.names = TRUE)[which(unlist(lapply(dir(directory, full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 2000)]
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 2000)]
cr <-corr("specdata", 1000)
cr <- sort(cr$X.0.0189575409702549)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
files_list <- dir("specdata", full.names = TRUE)[which(unlist(lapply(dir("specdata", full.names = TRUE), function(x){ sum(complete.cases(read.csv(x)))})) > 0)]
cc <- complete("specdata",1:332)
print(cc$nobs)
summart(cc$nobs)
summary(cc$nobs)
